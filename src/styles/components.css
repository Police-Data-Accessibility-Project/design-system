@tailwind components;

@layer components {
  /* grid container */
  .pdap-grid-container {
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));

		@apply grid h-auto gap-4 mx-auto w-full;
		@apply md:gap-8 xs:max-w-3xl lg:max-w-4xl;
	}

	.columns-1 {
		@apply grid-cols-1;
	}

	.columns-2 {
		@apply items-start grid-cols-1;
		@apply md:grid-cols-2;
	}

	.columns-3 {
		@apply grid-cols-1;
		@apply md:grid-cols-2 lg:grid-cols-3;
	}

  /* flex container */
  .pdap-flex-container {
		/* Left and top aligned by default */
		@apply items-start flex h-auto justify-start flex-col gap-2 max-w-none mx-auto w-full;

		/* Responsiveness */
		@apply xs:max-w-3xl lg:max-w-4xl;
	}

	.pdap-flex-container-center {
		@apply pdap-flex-container items-center justify-center;
	}

	/* Input styles  */
	.pdap-input, .pdap-input-radio-group {
		@apply h-[max-content] gap-1 leading-normal w-full flex flex-col;
	}

	.pdap-input input {
		@apply h-12;
	}

	.pdap-input input,
	.pdap-input textarea {
		@apply bg-neutral-50 border-neutral-500 border-solid border-2 px-3 py-2 text-neutral-950 text-lg rounded-md;
	}

	.pdap-input input::placeholder,
	.pdap-input textarea::placeholder{
		@apply text-neutral-600 text-lg;
	}

	.pdap-input input:focus,
	.pdap-input input:focus-within,
	.pdap-input input:focus-visible,
	.pdap-input textarea:focus,
	.pdap-input textarea:focus-within,
	.pdap-input textarea:focus-visible, 
	.pdap-input-checkbox:has(input[type="checkbox"]:focus) {
		@apply border-2 border-brand-gold-500 border-solid outline-none;
	}

	.pdap-input label {
		@apply max-w-[max-content] text-lg py-1 font-medium;
	}

	/* Error state */
	.pdap-input-error {
		@apply flex-wrap gap-x-0;
	}

	.pdap-input-error label {
		@apply justify-start;
	}

	.pdap-input-error input:not(:focus, :focus-visible, :focus-within),
	.pdap-input-error div[role="combobox"]:not(:focus, :focus-visible, :focus-within),
	.pdap-input-error textarea:not(:focus, :focus-visible, :focus-within) {
		@apply border-red-800 dark:border-red-300;
	}

	.pdap-input-error-message {
		@apply items-center justify-start flex bg-red-300 text-red-800 p-1 text-xs rounded-sm;
	}

	/* Specific inputs */
	/* Input - checkbox and radio */
	.pdap-input-checkbox,
	.pdap-input-radio {
		@apply border-2 border-transparent items-center gap-4 flex-row py-1 px-2 w-auto rounded-md;
	}

	.pdap-input-checkbox:has(input:checked),
	.pdap-input-radio:has(input:checked),
	.pdap-input-checkbox:has(input:checked):has(input[type="checkbox"]:focus),
	.pdap-input-radio:has(input:checked):has(input[type="checkbox"]:focus) {
		@apply border-2 border-brand-gold border-solid rounded-md;
	}

	.pdap-input input[type='checkbox'], 
	.pdap-input input[type='radio'] {
		@apply h-6 w-6 accent-brand-gold;
	}

	.pdap-input input[type='checkbox'] ~ label,
	.pdap-input input[type='radio'] ~ label {
		@apply pl-0 w-full max-w-full;
	}

	.pdap-input input[type='checkbox'],
	.pdap-input input[type='checkbox'] ~ label,
	.pdap-input input[type='radio'],
	.pdap-input input[type='radio'] ~ label {
		@apply cursor-pointer;
	}


	
	/* Text area */
	.pdap-input textarea {
		@apply text-lg;
	}


	/* Hacky stuff to get around ugly chrome and ff autofill styles */
	@media screen and (prefers-reduced-motion: reduce) {
	.pdap-input input:-webkit-autofill,
		.pdap-input input:-webkit-autofill:focus {
			transition: none !important;
	}
	}
	
		.pdap-input input:-webkit-autofill,
		.pdap-input input:-webkit-autofill:focus {
			transition: background-color 0s 600000s, color 0s 600000s !important;
		}
}